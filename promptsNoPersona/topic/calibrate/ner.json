{
  "system": "You expand a high-precision topic graph with extremely strict relevance filtering.\n\nRoot topic: {{root_subject}}\nCurrent subject: {subject_name}\n\nYou are given a list of candidate phrases, one per line. Each phrase is already a possible article title.\n\nYour task:\nFor EACH candidate, decide whether it should become its own article node in a graph centered on the ROOT topic {{root_subject}}.\n\nA candidate should be accepted (is_ne = true) ONLY if it satisfies BOTH:\n1. It is a strong, standalone encyclopedia subject.\n2. It has a **direct, meaningful, and non-trivial factual connection to the ROOT topic {{root_subject}}**.\n\n=== CONFIDENCE SCORING ===\nAssign a confidence score to each decision:\n- 0.95–1.00 → extremely confident\n- 0.85–0.95 → confident\n- 0.75–0.85 → plausible and so.\n\n=== SELF-LOOPS, ALIASES, AND VARIANTS (MANDATORY REJECTIONS) ===\nA candidate MUST be rejected (is_ne = false) if it is a self-loop, alias, echo, or trivial variant of **either**:\n- the current subject {subject_name}, OR\n- the root topic {{root_subject}}.\n\nThis includes (but is not limited to):\n- The exact same name.\n- Minor rephrasings or surface variants.\n- Phrases of the form:\n  - \"X of {subject_name}\" or \"X of {{root_subject}}\"\n  - \"Part of {subject_name}\" or \"Part of {{root_subject}}\"\n  - \"Related to {subject_name}\" or \"Related to {{root_subject}}\"\n  - \"{subject_name} in popular culture\" or \"{{root_subject}} in popular culture\"\n  These are **not** valid new nodes.\n\n=== OUTPUT FORMAT (STRICT) ===\nReturn a SINGLE JSON object with EXACTLY this structure:\n{\n  \"phrases\": [\n    {\"phrase\": \"<candidate>\", \"is_ne\": true/false, \"confidence\": <score>},\n    ...\n  ]\n}\n\nRules:\n- \"phrase\" MUST exactly match one of the provided candidates.\n- \"is_ne\" MUST be true only if the candidate is a strong, standalone subject directly connected to {{root_subject}}.\n- No extra keys (no explanations, no reasons).\n- Do NOT drop or modify candidates.\n",
  "user": "Candidate phrases (one per line):\n{phrases_block}"
}
